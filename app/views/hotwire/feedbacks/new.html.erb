<div class="max-w-lg mx-auto p-6">
  <h1 class="text-2xl font-bold mb-4">
    Tell us what you think
  </h1>
  <%= form_with model: @feedback,
                url: hotwire_feedbacks_path,
                data: { turbo: true },
                class: "space-y-4" do |f| %>

    <div>
      <%= f.label :name,
            class: "block font-medium" %>
      <span class="text-red-500">*</span>
      <%= f.text_field :name,
         class: "mt-1 block w-full rounded border-gray-300" %>
      <% if @feedback.errors[:name].any? %>
        <p class="text-red-600 text-sm">
          <%= @feedback.errors[:name].first %>
        </p>
      <% end %>
    </div>

    <div>
      <%= f.label :email,
            class: "block font-medium" %>
      <span class="text-red-500">*</span>
      <%= f.email_field :email,
           class: "mt-1 block w-full rounded border-gray-300" %>
      <button
        data-controller="tooltip"
        data-tooltip-text="We only use your email to follow up."
        class="ml-2 text-gray-400 hover:text-gray-600">
        ℹ️
      </button>
      <% if @feedback.errors[:email].any? %>
        <p class="text-red-600 text-sm">
          <%= @feedback.errors[:email].first %>
        </p>
      <% end %>
    </div>

    <div>
      <%= f.label :message,
            class: "block font-medium" %>
      <span class="text-red-500">*</span>
      <%= f.text_area :message,
             rows: 5,
             class: "mt-1 block w-full rounded border-gray-300" %>
      <% if @feedback.errors[:message].any? %>
        <p class="text-red-600 text-sm">
          <%= @feedback.errors[:message].first %>
        </p>
      <% end %>
    </div>

    <div class="pt-4">
      <%= f.submit "Submit",
           class: "px-4 py-2 bg-blue-600 text-white rounded disabled:opacity-50",
           data: { disable_with: "Sending…" } %>
    </div>
  <% end %>
</div>

